= Создать новую базу данных

. Откройте xref:console-db-master.adoc[мастер БД {dv}].
+
.Мастер БД {dv}
image::database-master.png[Мастер БД {dv}]
+
. Выберите режим *Создать новую базу данных и подключить её к серверу*. Нажмите *Далее*.
. Укажите информацию для создания БД. Нажмите *Далее*.
+
.Настройка подключения к СУБД
image::db-create-start.png[Настройка подключения к СУБД]
+
--
//tag::dbSettings[]
****
Тип сервера::
Тип используемой СУБД:
+
* *_Microsoft SQL Server_*.
* *_PostgreSQL_*.
+
Имя сервера::
Сетевое имя сервера или экземпляра СУБД, например `sql.company.com`.
+
Для БД PostgreSQL имя сервера следует указывать без домена, например `postgre`, а не `postgre.company.com`. Не следует использовать IP и имя LOCALHOST.
+
Порт::
*Только для PostgreSQL*. Порт подключения к СУБД, в PostgreSQL по умолчанию используется порт `5432`.
+
Проверка подлинности::
Тип проверки подлинности при подключении к СУБД:
* *_SQL Server_* -- аутентификация с помощью учетной записи, зарегистрированной в СУБД.
* *_Windows_* -- аутентификация с помощью текущей учетной записи Windows.
+
[NOTE]
====
См. xref:db-authentication.adoc[Особенности использования SQL-аутентификация и аутентификация Windows при подключении к БД {dv}].
====
+
Логин, Пароль::
Данные учетной записи для подключения к СУБД.
****
//end::dbSettings[]
--
+
. Укажите параметры создания БД и нажмите *Далее*.
+
.Настройка создания БД в Microsoft SQL Server
image::db-create-name.png[Настройка создания БД в Microsoft SQL Server]
+
****
.. Укажите основные параметры БД:
+
//tag::name[]
Имя::
Название БД, с которым она будет создана в СУБД;
Псевдоним::
Псевдоним с которым БД будет зарегистрирована в {dv}. Обычно совпадает с именем БД.
+
[IMPORTANT]
====
Псевдоним должен быть уникальным в пределах данного сервера {dv}.
====
//end::name[]
+
Размещение::
*Только для Microsoft SQL.* Определяет расположение файлов БД на сервере СУБД:
+
* *_Стандартное_* -- расположение файлов определяется настройками СУБД.
* *_Другое_* -- расположение файлов БД указывается администратором. Данный вариант размещения применим, если серверная часть модуля {pl} и СУБД установлены на одном компьютере.
* *_Язык_*. Язык создаваемой БД. Следует выбирать локаль, соответствующую способу сортировки данных в таблицах. Способ сортировки задан в параметре `Server Collation ()` экземпляра Microsoft SQL Server. Рекомендуемое значение: `Cyrillic_General_CI_AS` (Русский).
+
*Параметр используется только для Microsoft SQL.*
+
.. *Только для БД Microsoft SQL Server*. Если требуется, xref:db-satellite.adoc[включите] создание сателлитных баз данных нажав кнопку *Настройки*.
+
По умолчанию использование сателлитных БД отключено.
****
+
. Если требуется, выберите собственный SQL-скрипт, используемый для создания базы данных. Нажмите *Далее*.
+
.Выбор SQL-скрипта для создания базы данных
image::db-create-script.png[Выбор SQL-скрипта для создания базы данных]
+
* *Стандартный* -- использовать стандартные скрипты {dv} для создания БД.
* *Другой* -- использовать собственный скрипт для создания БД.
+
. Выберите библиотеки карточек для загрузки в новую БД. По умолчанию будут выбраны все библиотеки, которые можно загрузить. Нажмите *Далее*.
+
.Выбор модулей для загрузки
image::db-create-libs.png[Выбор модулей для загрузки]
+
****
Выбор библиотеки для загрузки осуществляется установкой флага в строке соответствующей библиотеки. Рекомендуется выбрать все доступные библиотеки карточек.

[NOTE]
====
Чтобы работать модулем и зависимыми от него модулями, должна быть загружена его библиотека карточек.
====
****
+
. Подтвердите параметры, которые будут использованы при создании базы данных. Нажмите *Далее*.
+
.Подтверждение параметров создания БД
image::db-create-check.png[Подтверждение параметров создания БД]
+
include::partial$excerpts.adoc[tags=atomic]
+
. Дождитесь завершения инициализации БД и загрузки SQL объектов.

====
Следующие шаги выполняются только при создании новой БД из программы _{cns}_. При первоначальной настройке {dv} загрузка дополнительных модулей выполняется _Мастером настройки {dv}_.
====

[start=9]
. Выберите модули {dv}, данные которых должны быть загружены в БД. Нажмите *Завершить*.
+
.Выбор модулей, настройки которых будут загружены в БД
image::db-create-modules.png[Выбор модулей, настройки которых будут загружены в БД]
+
****
Если настройки модуля {dv} не загружены в БД, работа с данным модулем будет невозможна. Если библиотеки карточек выбранных модулей не были загружены в БД, они будут загружены принудительно.
****
+
. Примените или пропустите специальную конфигурацию {dm}.
+
.Специальная конфигурация {dm}
image::document-management.png[Специальная конфигурация {dm}]
+
Если пропустить этот этап, версия модуля {dm} не будет загружена в БД.
+
. Примените специальную конфигурацию {ad}.
+
.Специальная конфигурация {ad}
image::approval-designer.png[Специальная конфигурация {ad}]
+
Если пропустить этот этап, версия модуля {ad} не будет загружена в БД.
+
. Согласитесь с перезапуском сервисов {dv} для применения новых параметров.
+
.Запрос на перезапуск сервисов {dv}
image::db-create-reload.png[Запрос на перезапуск сервисов {dv}]
+
. Чтобы назначить созданную БД основной, следуйте xref:db-default.adoc[инструкции].
+
****
Основная БД -- база данных, с которой работают пользователи, если при подключении к серверу не выбрана иная БД. Сервисы {dv} также работают с основной БД.
****
+
. Предоставьте сервисам {dv} xref:post-config-server.adoc#accountsSetup[необходимые] права.
