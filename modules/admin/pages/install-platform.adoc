= Установка модуля {pl}

Система поддерживает установку на Linux с ограничениями доступной функциональности. Подробнее см. руководство по установке, раздел "xref:install-linux::linux-limitations.adoc[]".

[#linux-pl]
== Установка модуля {pl} на Linux

Установите серверные компоненты модуля.

Все описанные ниже команды необходимо выполнять после завершения xref:pre-config-server.adoc[предварительной настройки сервера].

При установке модулей {dv} в ОС Linux необходимо установить модуль описанными далее командами. Также потребуется установка серверных компонентов на ОС Windows для работы с программой {cns}. Установка клиентской части на ОС Windows потребуется только в случае установки {wincl}а.

. Установите пакеты модуля {pl} следующей командой, предварительно обновив индекс пакетов:
+
[source,bash]
----
sudo apt-get update
sudo apt-get install docsvision-platform
----
+
Вместе с модулем _{pl}_ команда установит модули _{bo}_ и _{ad}_.
+
. Активируйте лицензию при помощи xref:activation.adoc[утилиты активации]:
+
[source,bash]
----
sudo apt-get install docsvision-activation
cd /usr/lib/docsvision/tools/activation
sudo ./activation online ВАШ-КЛЮЧ
----
+
. Выполните конфигурацию модуля по инструкции в разделе "xref:config-platform.adoc[]".
. Запустите службу модуля командой:
+
[source,bash]
----
sudo systemctl start dvappserver
----

[#file-service]
== Установка файлового сервиса

. Установите пакеты модуля:
+
[source,bash]
----
sudo apt-get install docsvision-fileservice
----
+
. В конфигурационном файле укажите строку подключения к БД:
+
[source,json]
----
  "DocsVision": {
    "Platform": {
      "Server": {
        "Databases": {
          "alias": "Database-connection-string" <.>
        }
      }
    }
  }
----
<.> Строка подключения к БД, подробнее см. в разделе "xref:config-platform.adoc#connection-string[Конфигурация модуля {pl}]".
+
. Запустите службу Файлового сервиса:
+
[source,bash]
----
sudo systemctl start dvfileservice
----

include::console:search-full-text.adoc[tags=install-ft]

[#windows-pl]
== Установка серверных компонентов на Windows

****
Установка серверных компонентов на Windows необходима для работы Консоли управления и настройки БД. Более подробная информация по установке приведена в руководстве по установке системы, раздел "xref:install-linux::install-other-windows.adoc[]".
****

include::partial$doNotStart.adoc[]

Пользователь, выполняющий установку, должен обладать правами администратора.

Включить журналирование процесса установки можно с помощью флага `*/l*v*`:

 msiexec /i "Docsvision Platform server.msi" /l*v install.log

include::partial$vars.adoc[]
+
. Запустите пакет установки `{dv} Platform server.msi`.
. Примите условия лицензионного соглашения.
+
.Условия лицензионного соглашения
image::6.1@platform:admin:install-server-license.png[Условия лицензионного соглашения]
+
. Если требуется, измените каталог установки модуля.
+
.Каталог установки серверных компонентов модуля {pl}
image::6.1@platform:admin:install-server-path.png[Каталог установки серверных компонентов модуля {pl}]
+
. Если требуется, измените набор устанавливаемых компонентов.
+
.Устанавливаемые компоненты модуля {pl}
image::6.1@platform:admin:install-server-components.png[Устанавливаемые компоненты модуля {pl}]
+
* _Сервер приложений_ -- устанавливает сервер {dv}, предоставляющий точку подключения клиентам {dv}, системные карточки, программу _{cns}_.
* _Сервис полнотекстового поиска_ -- устанавливает службу и компоненты полнотекстового поиска.
* _Набор клиентских компонентов сервера_ -- устанавливает библиотеки DLL, которые необходимы базовым и дополнительным модулям и Приложениям для взаимодействия с сервером {dv}.
+
[WARNING]
====
По умолчанию должны быть включены все компоненты.
====
+
. Нажмите на кнопку *Установить* и дождитесь завершения установки модуля.
+
.Мастер установки серверной части модуля {pl}
image::6.1@platform:admin:install-server-confirm.png[Мастер установки серверной части модуля {pl}]
+
. На следующем экране нажмите кнопку *Готово*, чтобы закрыть мастер установки.
+
include::install-linux:ROOT:partial$restart-and-db.adoc[]
