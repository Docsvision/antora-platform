// tag::pgagent[]
[NOTE]
====
При использовании Postgres Pro Standard потребуется скопировать расширение в директорию Postgres Pro, с помощью команды:

[source,bash]
----
cp /usr/share/postgresql/11/extension/pgagent* /opt/pgpro/std-15/share/extension/
----
====
// end::pgagent[]

//tag::delete-wf-settings[]
Если БД была удалена через _{cns}_, при открытии раздела _{wf}_ появится запрос на удаление настроек, связанных с удалённой БД: "База данных не зарегистрирована в системе {dv}. Удалить настройки {wf}, связанные с базой данных"?

Если согласиться с предложением, соответствующие настройки будут удалены. При отказе от предложения настройки сохранятся, но для БД будет выставлен признак отключения обработки БП.
//end::delete-wf-settings[]

// tag::backupDb[]
WARNING: При восстановлении основной БД также нужно восстанавливать сателлитные БД.
// end::backupDb[]

// tag::restoreDb[]
WARNING: При создании резервной копии основной БД также нужно создать резервные копии сателлитных БД.
// end::restoreDb[]

// tag::archiveName[]
Вместо "Название-БД-Docsvision" и "Название-БД-для-архивации-журналов" укажите название БД {dv} и БД для архивации журналов:
// end::archiveName[]

// tag::replaceName[]
Вместо "Название-БД-Docsvision" укажите название БД {dv}: и БД для архивации журналов:
// end::replaceName[]

// tag::restartServer[]
. Перезапустите сервер {dv} (пул приложений _DocsvisionSitePool_ или IIS) и сервис полнотекстового индексирования (службу *{fts}*).
// end::restartServer[]

// tag::openFullText[]
. Откройте _{cns}_.
// tag::openPage[]
. Перейдите на страницу menu:Модули расширения[Сервис полнотекстового поиска]
// end::openPage[]
// end::openFullText[]

// tag::updateIndex[]
определяют периодичность обновления существующих индексов.
// end::updateIndex[]

// tag::createIndex[]
определяет промежуток времени, в течение которого создаются индексы данных. Если первое значение больше второго, в период индексации включается также следующий день.
// end::createIndex[]

// tag::maxIndex[]
определяет максимальный размер пакета с данными (карточек и файлов).
// end::maxIndex[]

// tag::openIndexing[]
.Чтобы изменить настройки полнотекстового поиска, выполните следующие действия:
include::partial$excerpts.adoc[tags=openFullText]
. Выберите в списке базу данных, настройки индексирования которой следует изменить.
. Нажмите кнопку *Свойства индексирования*, чтобы открыть окно настроек полнотекстового индексирования.
// end::openIndexing[]

// tag::cantSelect[]
Поля, выделенные серым, не могут быть выбраны.
+
WARNING: Не выбирайте целиком типы карточек или секции карточек. Выбирайте только поля текстовых типов.
// end::cantSelect[]

// tag::flagContinue[]
и установите флаг напротив индексируемых типов карточек. При необходимости для каждого типа карточек можно изменить набор индексируемых полей. Нажмите *Далее*, чтобы продолжить настройку.
// end::flagContinue[]

// tag::fStream[]
.. В поле _Строка соединения_ введите строку формата
include::partial$excerpts.adoc[tags=connectionLine]
+
.. В поле _Папка (локальная на сервере баз данных)_ введите полный путь к каталогу на сервере СУБД, на который настроен FileStream.
.. При желании измените максимальное время ожидания ответа от СУБД в поле _Таймаут (с)._
// end::fStream[]

// tag::fSystem[]
.. В поле _Путь_ введите полный путь к каталогу для хранения бинарных данных файлов на сервере {dv}.
// end::fSystem[]

// tag::tenMin[]
Новая конфигурация будет применена в течение 10 минут (по умолчанию).
// end::tenMin[]

// tag::atomic[]
****
Параметр _Ожидать завершения атомарной операции на SQL Server (сек)_ определяет максимальное время ожидания завершения отдельного этапа (операции) процедуры создания или подключения БД. Если операция не будет выполнена за указанное время, она завершится с ошибкой.

[NOTE]
====
Параметр _Ожидать завершения атомарной операции на SQL Server (сек)_ не ограничивает время выполнения пользовательских операций при работе в {wincl}е или {wc}е. при работе в клиентских приложениях будет применяться стандартное ограничение `600 секунд`.
====
****
// end::atomic[]

// tag::sat-restore[]
// tag::sat-name[]
Сателлитные БД автоматически получают свои имена на основе имени главной БД. Все синонимы генерируются сразу с этими именами.
// end::sat-name[]

// tag::sat-move[]
* При переносе основной БД на другой SQL сервер обязательно потребуются также копии всех сателлитов.
// end::sat-move[]
* При восстановлении копии БД на том же сервере SQL с переименованием также необходимо восстановить копии сателлитов с соответствующим переименованием.
* Использование одного сателлита несколькими базами недопустимо. Данный режим не предусмотрен системой и может привести к некорректной работе.
// end::sat-restore[]

// tag::satellite[]
При подключении существующей БД будет применена существующая в данной БД конфигурация сателлитов. Данные из основной БД в сателлитную и обратно не переносятся, поэтому при переключении БД часть данных может быть потеряна.
// end::satellite[]

// tag::storageLimits[]
* Для СУБД Microsoft SQL Server существует ограничение на размер добавляемых файлов -- не более 2 Гб. Если в {dv} необходимо хранить файлы больше 2 Гб, используйте *_Хранилище на диске_*, *_Filestream хранилище в базе данных {dv}_*, *_FileStream хранилище во внешней базе данных Microsoft SQL Server_* или другое хранилище, поддерживающее файлы такого размера.
+
Для СУБД PostgreSQL аналогичное ограничение составляет 1 Гб.
// end::storageLimits[]

// tag::connectionLine[]
ifdef::storageorgroup[]
`Data Source=ServerName;Initial Catalog=DatabaseName;User ID=UserName;Password=UserPassword`.
+
Строка должна содержать данные для подключения к внешней БД (по отношению к БД {dv}). В указанную внешнюю БД будут сохраняться бинарные данные файлов.
+
endif::[]
ifndef::storageorgroup[]
`Data Source=ServerName;Initial Catalog=DatabaseName;User ID=UserName;Password=UserPassword;Integrated Security=SSPI`.
+
.Где:
* `ServerName` замените на полное имя сервера с СУБД Microsoft SQL.
* `DatabaseName` замените на название базы данных с FileStream.
* `UserName` и `UserPassword` замените на имя и пароль пользователя, который обладает правами на работу с базой данных `DatabaseName`.
+
endif::[]
WARNING: Не указывайте текущую или любую другую БД {dv} -- это может привести к поломке БД.
// end::connectionLine[]

// tag::openStorages[]
. В программе _{cns}_ откройте страницу настроек menu:Настройки сервера[Базы данных > Внешние хранилища].
. Выберите настраиваемую базу данных и нажмите на кнопку *Настройки*.
. В появившемся окне _Свойства и управление базой данных_ откройте вкладку _Внешние хранилища_.
. Нажмите на кнопку image:admin:buttons/frame-plus.png[Рамка с плюсом] в блоке настроек
ifdef::storageorgroup[]
_Хранилища_, чтобы открыть окно _Настройки хранилища_.
endif::[]
ifdef::create[]
_Группы хранилищ_, чтобы открыть окно _Настройки группы хранилищ_.
endif::[]
ifdef::include[]
_Группы хранилищ_, чтобы открыть окно _Выбор хранилища_.
endif::[]
ifdef::rules[]
_Правила помещения в хранилища_, чтобы открыть окно _Настройки правила хранилища_.
endif::[]
// end::openStorages[]

// tag::openStorageSettings[]
. В программе _{cns}_ откройте страницу настроек menu:Настройки сервера[Базы данных > Внешние хранилища].
. Выберите настраиваемую базу данных и нажмите на кнопку *Настройки*.
// end::openStorageSettings[]