= Раздел "Настройка клиентской части"

Для текущей версии системы раздел в Консоли настройки неактуален. Все описанные ниже настройки выполняются в конфигурационном файле модуля {pl}, расположенном по адресу `/usr/lib/docsvision/platform/appsettings.json`, в разделе menu:&quot;DocsVision&quot;["Platform" > "Server" > "Site"].

Данные параметры позволяют настраивать установку клиентских компонентов модулей, а также поведение {wincl}а/РМА.

[#client]
== Настройки установки клиентской части решений

WARNING: Некоторые настройки могут быть переопределены из xref:admin:config-platform.adoc[конфигурационного файла] модуля {pl} на сервере Linux.

Переопределяемые через конфигурационный файл настройки описаны в примере ниже:

.Фрагмент appsettings.json
[source,json]
----
  "Site": {
    "HelpUrl": "http://help.docsvision.com/{client}/{version}", <.>
    "InstallLogPath": null, <.>
    "InstallAction": 0, <.>
    "InstallUILevel":  0, <.>
    "InstallScope": 0 <.>
  }
----
<.> Адрес расположения документации.
<.> Путь к папке, в которой будет создаваться журнал для всех инсталлируемых компонентов.
<.> Операция, которую выполняет {wincl} при инсталляции решений:
+
* `0` -- инсталлировать необходимые библиотеки в режиме по умолчанию.
* `1` -- не инсталлировать ничего.
* `2` -- инсталлировать необходимые библиотеки полностью.
* `3` -- инсталлировать необходимые библиотеки в режиме advertise, при этом в реестр записывается регистрация компонентов, а сами компоненты устанавливаются при первом использовании.
+
<.> Уровень отображения пользовательского интерфейса инсталляций:
+
* `0` -- используется настройки интерфейса по умолчанию.
* `1` -- полностью автоматическая инсталляция.
* `2` -- минимальный интерфейс.
* `3` -- сокращенный интерфейс.
* `4` -- полный интерфейс.
+
<.> Область установки компонентов:
+
* `0` -- для текущего пользователя.
* `1` -- для всех пользователей.
* `2` -- авто-распознавание, при наличии полномочий устанавливается для всех пользователей, иначе только для текущего пользователя.

// [#console-section]
// == Настройки в консоли
//
// .Раздел "Настройка клиентской части" Консоли настройки {dv}
// image::admin:settings-client.png[Раздел "Настройка клиентской части" Консоли настройки {dv}]
//
// .Страница содержит следующие элементы:
// Настройки библиотеки карточек::
// Определяют параметры автоматической установки клиентских компонентов библиотек карточек:
//
// Библиотека карточек:::
// Раскрывающийся список для выбора библиотеки карточек. Параметры установки настраиваются для выбранной библиотеки.
//
// Инсталляционная программа:::
// Выберите путь к пакету установки компонентов выбранной библиотеки карточек из раскрывающегося списка. Пакеты установки перечислены в схеме библиотеки карточек.
//
// Идентификатор заплатки:::
// В поле указывается идентификатор файла патча, автоматически распространяемого по клиентским компьютерам.
//
// Путь к файлу заплатки:::
// В поле указывается путь к файлу патча `.msp`, автоматически распространяемого по клиентским компьютерам.
//
// Путь к файлу преобразования:::
// В поле указывается путь к файлу преобразования `.mst`, автоматически применяемому при установке клиентских компонентов библиотеки карточек.
//
// Установка предназначена:::
// Выберите пользователей, которым будут автоматически устанавливаться клиентские компоненты библиотеки карточек из раскрывающегося списка:
// - *_Для всех пользователей_* -- компоненты предназначены для установки всем пользователям. Значение по умолчанию.
// - *_Только для следующих пользователей_* -- компоненты предназначены для установки только пользователям из списка.
// +
// .Выбор пользователей, для которых будет установлена библиотека
// image::admin:select-users-for-lib.png[Выбор пользователей, для которых будет установлена библиотека]
// +
// - *_Не устанавливать_* -- данные компоненты автоматически устанавливаться не будут.

[#interface]
== Настройки интерфейса {wincl}а по умолчанию

Общие настройки {wincl}а и РМА выполняются в конфигурационном файле модуля {pl} в секции menu:&quot;DocsVision&quot;["Platform" >  "Server" > "Site"]

Показывать панели::
Настройки указываются в параметре `"ShowPanels"`. Выбранное значение определяет список панелей, которые будут отображаться в окнах {wincl}а и РМА. Значение может быть от 0 до 4, то есть, если нужен вариант *_Все панели_*, следует указать `4`.
+
* `0` -- Дерево папок и панель представления.
* `1` -- Дерево папок.
* `2` -- Панель представления.
* `3` -- Панель представления и область просмотра.
* `4` -- Все панели.

Язык интерфейса::
Выбранное значение определяет язык интерфейса {wincl} и РМА, который будет использоваться по умолчанию у всех пользователей.
+
Язык интерфейса настраивается в параметре `"LangName"`. Допустимые значения: `RUS` или `ENU`. Оставьте значение пустым, если интерфейс должен определяться автоматически.

Периодичность обновления данных представления::
Настройка регулирует интервал автоматического обновления представления {wincl} и РМА. Если указанный интервал равен нулю, автоматическое обновление представлений на экранах пользователей не происходит. Автоматическое обновление выполняется только в текущей активной папке пользователя.
+
За настройку отвечает параметр `"RefreshTimeout"`, значение указывается в секундах, например, `300`.

Не скрывать панель инструментов Internet Explorer:::
Параметр `"KeepBrowserUI"` может быть задан, значение `1` или не задан, значение `0`. Если параметр задан, у пользователя РМА будет отображаться стандартная панель инструментов браузера Internet Explorer помимо стандартной панели инструментов РМА.

// tag::takeoffice[]
Не отображать карточки Делопроизводства 4X:::
Флаг перемещён в настройки БД, на страницу настроек xref:db-config.adoc#management["Управление"]
+
.Если флаг активен:
- Карточки приложения _{to}_ не будут отображаться и предлагаться при выборе в {wincl}е и РМА и системной папке `Карточки`.
- Справочники _{to}_ не будут отображаться в папке `Конструкторы и справочники`.
- В конструкторах запросов и представлений не будут выводиться поля и секции карточек _Делопроизводство 4X_.
+
[WARNING]
====
При использовании БД {pgsql} работа с карточками _{to}_ не поддерживается. В данном случае флаг *_Не отображать карточки Делопроизводства 4X_* должен быть установлен обязательно.

При смене xref:db-settings.adoc[базы данных] флаг *_Не отображать карточки Делопроизводства 4.X_* сбрасывается и должен быть установлен повторно.
====
// end::takeoffice[]

Производительность::
Значение настраивается в параметре `"PerformanceState"` и определяет параметры запуска {wincl} и РМА:
+
- `0` -- `Высокая` -- {wincl} будет автоматически запускаться при загрузке ОС и будет свернут в область уведомлений при закрытии окна.
+
В этом режиме необходимые данные считываются в фоновом процессе, что обеспечивает максимально возможную скорость открытия карточек.
+
- `1` -- `Средняя` -- {wincl} не будет автоматически запускаться при загрузке ОС и будет свернут в область уведомлений при закрытии окна.
+
В этом режиме необходимые данные считываются в фоновом процессе, что обеспечивает максимально возможную скорость открытия карточек после первого открытия приложения вручную.
+
- `2` -- `Низкая` -- {wincl} не будет автоматически запускаться при загрузке ОС и будет закрыт при закрытии окна.
+
В этом режиме данные будут считываться при каждом первом открытии карточки после запуска {wincl}а, поэтому карточки будут открываться медленнее, чем в других режимах. Режим рекомендуется использовать, если имеется много клиентских компьютеров, не удовлетворяющих рекомендованным аппаратным требованиям.
+
[NOTE]
====
Отдельные настройки могут быть переопределены в {wincl}е/РМА. Например, язык пользовательского интерфейса.
====

// Настройки установки клиентской части решений::
// Блок настроек определяет параметры установки клиентских компонентов библиотек карточек на пользовательские компьютеры:
//
// Интерфейс установки:::
// Определяет интерфейс, который будет отображаться на экране пользователя при установке на его компьютер клиентской части системы {dv}:
// - *_По умолчанию_* -- отображать минимальный интерфейс.
// - *_Не отображать интерфейс_*.
// - *_Минимальный интерфейс_*.
// - *_Сокращенный интерфейс_*.
// - *_Полный интерфейс_* -- отображать всю информацию о выполняемых при установке операциях.
//
// Установка решений:::
// Определяет режим установки клиентских компонентов:
// - *_По умолчанию_* -- установка осуществляется в режиме по умолчанию в соответствии с ограничениями установки, заданными в блоке _Установка предназначена_.
// - *_Не инсталлировать_* -- компоненты решения не будут установлены.
// - *_Полная инсталляция_* -- будут установлены все программные компоненты платформы и решения.
// - *_Режим Advertise_* -- сами файлы не будут установлены, необходимые компоненты загружаются при первом обращении.
//
// Папка журналов:::
// Адрес папки на клиентском компьютере. В этой папке будут размещены журналы инсталляции клиентских библиотек карточек.
//
// Область установки:::
// При установке клиентских частей модулей с сервера {dv} определяет область установки клиентских частей модулей.
// +
// .Доступные варианты:
// - *_Для всех пользователей_* -- клиентские компоненты устанавливаются в папку `C:\Program files\Docsvision\...` для всех пользователей компьютера.
// - *_Для текущего пользователя_* -- клиентские компоненты устанавливаются в папку пользователя `C:\Users\Имя пользователя\...` только для текущего пользователя.
// - *_Определять автоматически_* -- клиентские компоненты устанавливаются для всех пользователей, если устанавливающий пользователь обладает правами администратора. В противном случае установка будет выполнена только для текущего пользователя.
// +
// [WARNING]
// ====
// Если на компьютере установлена клиентская часть модуля {pl}, другие базовые модули будут устанавливаться с той же областью установки и настройка _Область установки_ игнорируется.
//
// При обновлении базовых модулей {dv} также используется область установки обновляемой версий.
//
// Данное исключение относится только к базовым модулям {dv}, дополнительные модули устанавливаются и обновляются с областью установки, выбранной в параметре _Область установки_.
// ====
//
// Адрес расположения документации:: В поле указывается xref:docs-location.adoc[расположение] пользовательской документации.
//
// Восстановить по умолчанию::
// Нажатие на ссылку восстанавливает расположение по умолчанию.
