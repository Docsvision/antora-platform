= Ограничить размер подписываемых файлов

Настройки сервера {dv} ограничивают возможность подписывания файлов *сертификатом* ЭП: основной файл должен быть не больше 35 Мб. Дополнительные файлы подписываются в пакете, поэтому сумма всех дополнительных файлов не должна превышать 35 Мб. Администратор может изменить максимальное значение.

Информация в данном разделе действительна для модуля {wincl}. Ограничения возможности подписания в модуле {wc} зависят от ограничений КриптоПро ЭЦП Browser plug-in. Чтобы узнать больше об ограничениях, обратитесь за информацией в компанию КриптоПро.

WARNING: Если установить значение в 100 Мб, при подписании может возникать ошибка: `Слишком большое значение ASN1`. В таком случае рекомендуется уменьшить значение.

.Чтобы изменить ограничение размера подписываемых файлов:
. Откройте Диспетчер служб IIS.
. Перейдите к веб-приложению _DocsVision_.
. Откройте раздел _Фильтрация запросов_ (Request Filtering) в настройках веб-приложения.
+
.Настройки фильтрации запросов
image::admin:iis-query-filtering.png[Настройки фильтрации запросов]
+
. Нажмите ссылку _Изменить параметры_ (Edit Feature Settings).
+
.Изменение параметров фильтрации запросов
image::admin:iis-query-filtering-settings.png[Изменение параметров фильтрации запросов]
+
. В появившемся окне изменения параметров фильтрации запросов установите _Максимальную допустимую длину содержимого (байт)_ (Maximum allowed content length (Bytes)) новое значение максимального размера для подписываемых файлов с запасом на треть.
+
.Рекомендуемая формула для расчёта значения:
****
`(Требуемый размер в Мб) * 1024 * 1024 * 4/3`.
****
+
. Сохраните изменения.
